# ============================================
# Worker Production Environment Variables
# ============================================
# Copy this file to .env.production for Railway Worker service
# DO NOT commit .env.production to git
# This is for the separate Worker service (not API)

# ============================================
# REQUIRED - Core Configuration (same as API)
# ============================================

DATABASE_URL=postgresql://user:password@host:5432/dbname?schema=public
# REQUIRED: Same PostgreSQL connection as API

JWT_SECRET=your-super-secret-jwt-key-min-32-chars-change-in-production
# REQUIRED: Same JWT secret as API (for token validation)

JWT_REFRESH_SECRET=your-super-secret-refresh-key-min-32-chars-change-in-production
# REQUIRED: Same refresh secret as API

# ============================================
# REQUIRED - Worker-Specific Configuration
# ============================================

WORKER_MODE=1
# REQUIRED: Must be '1' or 'true' for Worker service

JOB_RUNNER_ENABLED=true
# REQUIRED: Must be 'true' for Worker service (default is true in worker mode)

QUEUE_MODE=bullmq
# REQUIRED: Must be 'bullmq' for production

REDIS_URL=redis://user:password@host:6379
# REQUIRED: Redis connection URL (same as API)

RATE_LIMIT_REDIS_URL=redis://user:password@host:6379
# OPTIONAL: Separate Redis for rate limiting (if not set, uses REDIS_URL)

INTEGRATION_WORKER_CONCURRENCY=5
# OPTIONAL: Number of concurrent jobs to process (default: 5)
# Increase for higher throughput, decrease for lower resource usage

# ============================================
# OPTIONAL - Observability
# ============================================

METRICS_TOKEN=your-secure-random-token-for-metrics-endpoint
# OPTIONAL: Same as API (for metrics access)

NODE_ENV=production
# OPTIONAL: Set automatically by Railway

APP_VERSION=1.0.0
# OPTIONAL: Application version for metrics labels

# ============================================
# NOTES
# ============================================
# - Worker service does NOT need CORS_ORIGINS, FRONTEND_URL, or webhook secrets
# - Worker service does NOT need PORT (no HTTP server)
# - Worker service processes jobs from the queue
# - Set WORKER_MODE=1 and JOB_RUNNER_ENABLED=true
