# Railway Configuration for Remember Me Monorepo
# This file configures Railway to deploy both API and Worker services

# Default service configuration (API)
[build]
builder = "DOCKERFILE"
dockerfilePath = "apps/api/Dockerfile"

[deploy]
healthcheckPath = "/api/health"
healthcheckTimeout = 100
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10

# Worker service configuration
# Note: Railway requires separate service configuration in Dashboard
# This file is for the default (API) service
# Worker service must be configured manually in Railway Dashboard:
# - Service Name: "remember_me/worker" (or "worker")
# - Dockerfile Path: "apps/api/Dockerfile.worker"
# - No healthcheck (worker doesn't serve HTTP)
# - Start Command: handled by Dockerfile CMD
